{"ast":null,"code":"var _jsxFileName = \"/Users/gvaillant/Documents/perso/projets/Vaillant-g/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GOOGLE_MAPS_API_KEY = \"AIzaSyAf7UIljn6JDxuDYjCJm3o4NR4DzrdK4tA\";\nfunction App() {\n  _s();\n  const mapRef = useRef(null);\n  const streetViewRef = useRef(null);\n  const containerRef = useRef(null);\n  useEffect(() => {\n    const loadGoogleMapsScript = () => {\n      return new Promise((resolve, reject) => {\n        const existingScript = document.getElementById(\"google-maps-script\");\n        if (existingScript) {\n          resolve(); // Script already loaded\n          return;\n        }\n        const script = document.createElement(\"script\");\n        script.id = \"google-maps-script\";\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&callback=initMap`;\n        script.async = true;\n        script.defer = true;\n        script.onload = resolve;\n        script.onerror = reject;\n        document.head.appendChild(script);\n      });\n    };\n\n    // Define the global initMap function\n    window.initMap = () => {\n      const initialLocation = {\n        lat: 43.3441,\n        lng: 3.2151\n      }; // Béziers, France\n\n      // Check if google is defined\n      if (typeof google === \"undefined\" || typeof google.maps === \"undefined\") {\n        console.error(\"Google Maps API is not available\");\n        return;\n      }\n\n      // Initialize the map\n      const map = new google.maps.Map(mapRef.current, {\n        center: initialLocation,\n        zoom: 4\n      });\n\n      // Initialize the Street View Panorama\n      const panorama = new google.maps.StreetViewPanorama(streetViewRef.current, {\n        position: initialLocation,\n        pov: {\n          heading: 165,\n          pitch: 0\n        },\n        zoom: 1\n      });\n      map.setStreetView(panorama);\n\n      // Initialize the Street View Service\n      const streetViewService = new google.maps.StreetViewService();\n\n      // Listen for clicks on the map\n      map.addListener(\"click\", event => {\n        const clickedLocation = event.latLng;\n        streetViewService.getPanorama({\n          location: clickedLocation,\n          radius: 50\n        }, (data, status) => {\n          if (status === google.maps.StreetViewStatus.OK) {\n            panorama.setPosition(clickedLocation);\n          } else {\n            console.log(\"Aucune image Street View disponible pour cet emplacement.\");\n          }\n        });\n      });\n    };\n    loadGoogleMapsScript().catch(error => {\n      console.error(\"Error loading Google Maps script:\", error);\n    });\n    return () => {\n      const script = document.getElementById(\"google-maps-script\");\n      if (script) {\n        document.head.removeChild(script);\n      }\n    };\n  }, []);\n  const toggleView = () => {\n    const container = containerRef.current;\n    const button = document.getElementById(\"toggle-button\");\n    if (container.classList.contains(\"horizontal\")) {\n      container.classList.remove(\"horizontal\");\n      button.textContent = \"Afficher côte à côte\";\n    } else {\n      container.classList.add(\"horizontal\");\n      button.textContent = \"Afficher dessus/dessous\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"title\",\n        children: \"geoguessr aim_map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"toggle-button\",\n        onClick: toggleView,\n        children: \"Afficher c\\xF4te \\xE0 c\\xF4te\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"help\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Drag & drop le marker sur la vue google maps pour actualiser la vue streetview.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      id: \"container\",\n      ref: containerRef,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"map\",\n        ref: mapRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"street-view\",\n        ref: streetViewRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: \"deez nuts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"urHiFbXHwXCx46VE327QXwAu1jQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","GOOGLE_MAPS_API_KEY","App","_s","mapRef","streetViewRef","containerRef","loadGoogleMapsScript","Promise","resolve","reject","existingScript","document","getElementById","script","createElement","id","src","async","defer","onload","onerror","head","appendChild","window","initMap","initialLocation","lat","lng","google","maps","console","error","map","Map","current","center","zoom","panorama","StreetViewPanorama","position","pov","heading","pitch","setStreetView","streetViewService","StreetViewService","addListener","event","clickedLocation","latLng","getPanorama","location","radius","data","status","StreetViewStatus","OK","setPosition","log","catch","removeChild","toggleView","container","button","classList","contains","remove","textContent","add","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","_c","$RefreshReg$"],"sources":["/Users/gvaillant/Documents/perso/projets/Vaillant-g/src/App.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport \"./App.css\";\n\nconst GOOGLE_MAPS_API_KEY = \"AIzaSyAf7UIljn6JDxuDYjCJm3o4NR4DzrdK4tA\";\n\nfunction App() {\n  const mapRef = useRef(null);\n  const streetViewRef = useRef(null);\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    const loadGoogleMapsScript = () => {\n      return new Promise((resolve, reject) => {\n        const existingScript = document.getElementById(\"google-maps-script\");\n        if (existingScript) {\n          resolve(); // Script already loaded\n          return;\n        }\n\n        const script = document.createElement(\"script\");\n        script.id = \"google-maps-script\";\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&callback=initMap`;\n        script.async = true;\n        script.defer = true;\n        script.onload = resolve;\n        script.onerror = reject;\n        document.head.appendChild(script);\n      });\n    };\n\n    // Define the global initMap function\n    window.initMap = () => {\n      const initialLocation = { lat: 43.3441, lng: 3.2151 }; // Béziers, France\n\n      // Check if google is defined\n      if (typeof google === \"undefined\" || typeof google.maps === \"undefined\") {\n        console.error(\"Google Maps API is not available\");\n        return;\n      }\n\n      // Initialize the map\n      const map = new google.maps.Map(mapRef.current, {\n        center: initialLocation,\n        zoom: 4,\n      });\n\n      // Initialize the Street View Panorama\n      const panorama = new google.maps.StreetViewPanorama(\n        streetViewRef.current,\n        {\n          position: initialLocation,\n          pov: {\n            heading: 165,\n            pitch: 0,\n          },\n          zoom: 1,\n        }\n      );\n\n      map.setStreetView(panorama);\n\n      // Initialize the Street View Service\n      const streetViewService = new google.maps.StreetViewService();\n\n      // Listen for clicks on the map\n      map.addListener(\"click\", (event) => {\n        const clickedLocation = event.latLng;\n\n        streetViewService.getPanorama(\n          { location: clickedLocation, radius: 50 },\n          (data, status) => {\n            if (status === google.maps.StreetViewStatus.OK) {\n              panorama.setPosition(clickedLocation);\n            } else {\n              console.log(\n                \"Aucune image Street View disponible pour cet emplacement.\"\n              );\n            }\n          }\n        );\n      });\n    };\n\n    loadGoogleMapsScript().catch((error) => {\n      console.error(\"Error loading Google Maps script:\", error);\n    });\n\n    return () => {\n      const script = document.getElementById(\"google-maps-script\");\n      if (script) {\n        document.head.removeChild(script);\n      }\n    };\n  }, []);\n\n  const toggleView = () => {\n    const container = containerRef.current;\n    const button = document.getElementById(\"toggle-button\");\n\n    if (container.classList.contains(\"horizontal\")) {\n      container.classList.remove(\"horizontal\");\n      button.textContent = \"Afficher côte à côte\";\n    } else {\n      container.classList.add(\"horizontal\");\n      button.textContent = \"Afficher dessus/dessous\";\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <span className=\"title\">geoguessr aim_map</span>\n        <button id=\"toggle-button\" onClick={toggleView}>\n          Afficher côte à côte\n        </button>\n      </div>\n      <div className=\"help\">\n        <p>\n          Drag & drop le marker sur la vue google maps pour actualiser la vue\n          streetview.\n        </p>\n      </div>\n      <div className=\"container\" id=\"container\" ref={containerRef}>\n        <div id=\"map\" ref={mapRef}></div>\n        <div id=\"street-view\" ref={streetViewRef}></div>\n      </div>\n      <footer>deez nuts</footer>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}